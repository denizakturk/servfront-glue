package servfront

const MIDDLEWARE_TEMPLATE string = "package middleware\n\nimport (\n\t\"net/http\"\n\t\"github.com/denizakturk/servfront/bridge\"\n)\n\ntype ControllerMiddleware struct {\n\tresponse  http.ResponseWriter\n\trequest   *http.Request\n\turlParams *bridge.UrlParams\n\tServiceResponse bridge.ServiceResponse\n}\n\nfunc (cm *ControllerMiddleware) MiddleWare(w http.ResponseWriter, r *http.Request, urlParams *bridge.UrlParams) {\n\t// Middleware codes for between service and controller\n\tcm.response = w\n\tcm.request = r\n\tcm.urlParams = urlParams\n}\n\nfunc (cm *ControllerMiddleware) EndpointRunner(method func() *bridge.ServiceResponse) {\n\t// Controller method run and write response\n\tresponse := method()\n\tcm.response.Write(nil)\n\tresponse.WriteResponse(cm.response, nil)\n}\n\nfunc (cm *ControllerMiddleware) GetUrlParam(key string) *string {\n\tif nil == cm.urlParams {\n\t\treturn nil\n\t}\n\tif val, ok := cm.urlParams.Params[key]; ok {\n\t\treturn &val\n\t}\n\n\treturn nil\n}"
